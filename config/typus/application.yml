# Typus Models Configuration File
#
# Use the README file on the same folder as this file as a reference to
# customize this file to your needs.

Category:
  fields:
    list: parent, name, companies_count, position, hidden
    form: parent, name, description
    show: id, name, description, companies_count, position, children_count, ancestors_count, descendants_count, hidden, parent
  actions:
    index:
    edit: show
  order_by: parent_id, position
#  relationships: children #companies #, parent, children #, 
  options:
    per_page: 30
  filters:
  search: name
  application: 8352.info
  description:


City:
  fields:
    list: name, ctype, prefix, is_prefix_owner
    form: ctype, name, prefix, is_prefix_owner
    show: id, ctype, name, prefix, is_prefix_owner
    options:
      selectors: ctype
  actions:
    edit: show
  order_by:
  filters: ctype
  search: name, prefix
  options:
    default_action_on_item: show
  application: 8352.info
  description:

TelefonFederal:
  fields:
    list: operator, federal, city
    form: federal, city, operator
    show: federal, city, operator
  actions:
    index: check_number
    edit: check_number
  order_by: operator, federal
  relationships: 
  filters: operator
  options:
    per_page: 50
  search: federal, city, operator
  application: 8352.info
  description:

TelefonRename:
  fields:
    list: oldphone, newphone, rename_date
    form: oldphone, newphone, rename_date
    show: oldphone, newphone, rename_date
  actions:
    index: check_number
    edit: check_number
  order_by: oldphone, newphone
  relationships: 
  filters: 
  options:
    per_page: 50
  search: oldphone, newphone
  application: 8352.info
  description:

Tag:
  fields:
    list: id, name, taggings_count
    form: name, taggings_count
    show: id, name, taggings_count
  actions:
    index:
    edit:
  order_by:
  relationships: taggings
  filters:
  search:
  application: 8352.info
  description:

Tagging:
  fields:
    list: id, tag
    form: tag
    show: id, created_at, updated_at, tag
  actions:
    index:
    edit:
  order_by:
  relationships: tag
  filters:
  search:
  application: 8352.info
  description:






# APPLICATION:
#
# Company catalog
#


Company:
  fields:
    list: name, results_count, address, site, category
    form: name, inn, address, site, director, description, working_time, sources
    show: id, results_count, name, inn, address, site, director, description, working_time, sources, created_at, updated_at, pending, dump, category
  actions:
    index:
    edit:
  order_by:
  relationships: category, emails, phones, results
  filters: category
  search: name, address
  application: Company catalog
  description:

Email:
  fields:
    list: id, email, person, department, company
    form: email, person, department, company
    show: id, email, person, department, company
  actions:
    index:
    edit:
  order_by:
  relationships: company
  filters:
  options:
    per_page: 30
  search:
  application: Company catalog
  description:


Phone:
  fields:
    list: id, number, company, person, department, description
    form: number, person, department, working_time, description, short_code, company
    show: id, number, person, department, working_time, description, short_code, created_at, updated_at, company
  actions:
    index:
    edit:
  order_by:
  relationships: company
  filters:
  search: number, person, departmend
  options:
    selectors: state
    per_page: 30
  application: Company catalog
  description:





# APPLICATION:
#
# Company catalog
#


Company:
  fields:
    list: name, results_count, city, address, site, category
    form: name, inn, address, city, site, director, description, working_time, sources
    show: id, results_count, name, inn, address, site, city, director, description, working_time, sources, created_at, updated_at, pending, dump, category
  actions:
    index:
    edit:
  order_by:
  relationships: category, emails, phones, results
  filters: category
  search: name, address
  application: Company catalog
  description:

Email:
  fields:
    list: id, email, person, department, company
    form: email, person, department, company
    show: id, email, person, department, company
  actions:
    index:
    edit:
  order_by:
  relationships: company
  filters:
  options:
    per_page: 30
  search:
  application: Company catalog
  description:


Phone:
  fields:
    list: id, number, company, person, department, description
    form: number, person, department, working_time, description, short_code, company
    show: id, number, person, department, working_time, description, short_code, created_at, updated_at, company
  actions:
    index:
    edit:
  order_by:
  relationships: company
  filters:
  search: number, person, departmend
  options:
    per_page: 30
  application: Company catalog
  description:




# APPLICATION:
#
# Company grabber
#

Link:
  fields:
    list: id, name, url, is_follow, links_count, source, parent
    form: name, url, is_follow, links_count, source, parent
    show: id, name, url, is_follow, links_count, created_at, updated_at, source, parent
  actions:
    index:
    edit:
  order_by:
  relationships: children, parent, results, source
  filters:
  search:
  application: Company grabber
  description:


ResultCategory:
  fields:
    list: category_name, category, source_id
    show: id, category_name, category, source_id
    form: category_name, category, source
#    options: 
#      templates:
#        category_id: category
  actions:
    index:
    show: 
    exit:
  order_by: category_name
  filters:
  search: category_name
  application: Company grabber
  description:

Source:
  fields:
    list: target_url, grabber_name, results_count, ad_results_count
    form: target_url, grabber_name
    show: target_url, id, results_count, ad_results_count, grabber_name, created_at, updated_at
  actions:
    edit: show
    show: import_results
#, reset_imported_categories, reset_imported_companies
  order_by:
  relationships: result_categories #, results #links, results
  filters:
  search:
  options:
    default_action_on_item: show
  application: Company grabber
  description:

Result:
  fields:
    list: category_name, name, address, state
    form: name, address, phones, email, site_url, result_category, category_name, work_time, other_info, raw_html, company, is_checked, state, is_removed
#, link
    show: id, name, address, phones, email, site_url, category_name, work_time, other_info, raw_html, is_checked, state, is_removed, created_at, updated_at, link, company, source
    options:
      selectors: state
  actions:
    index:
    edit:
  order_by: category_name, name
  options:
    selectors: state
    per_page: 30
#  relationships: company, link
  filters: aasm_state, is_removed
  search: category_name, name, address, phones, email, site_url
  application: Company grabber
  description:

